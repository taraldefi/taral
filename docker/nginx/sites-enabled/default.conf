# server {
#     # LOG
#     access_log /var/log/nginx/frontend-access.log;
#     error_log /var/log/nginx/frontend-error.log;

#     server_name ${FRONTEND_DOMAIN};

#     location / {
#         proxy_pass http://frontend:3000;
#         proxy_redirect off;

#         proxy_buffer_size 128k;
#         proxy_buffers 4 256k;
#         proxy_busy_buffers_size 256k;
#         proxy_set_header X-Forwarded-For $http_x_forwarded_for,$realip_remote_addr;
#         proxy_set_header X-Forwarded-Proto $scheme;
#         proxy_http_version 1.1;
#         proxy_pass_request_headers on;
#         proxy_set_header Client-Ip "";
#         proxy_set_header Host $http_host;
#     }
    
    # listen 80 default_server;
    # listen [::]:80 default_server;
    # listen 443 ssl http2 default_server;
    # listen [::]:443 ssl http2 default_server;
    # ssl_certificate     /etc/nginx/cert.pem;
    # ssl_certificate_key /etc/nginx/cert-key.pem;
# }

# Default server block for redirecting HTTP to HTTPS and handling unmatched server names
server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name _; # A catch-all for requests to unspecified server names

    location / {
        return 301 https://$host$request_uri;
    }
}